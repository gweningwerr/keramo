function getToken(){var e=$("meta[name=csrf-token]").attr("content");return e?e:null}function sendAjax(e,t){var a={url:"/",data:{},timeout:5e4,type:"GET",cache:!1,dataType:""},o=$.extend({},a,e);$.ajax({url:o.url,data:o.data,timeout:o.timeout,type:o.type,cache:o.cache,dataType:o.dataType,success:function(e){"function"==typeof t?("error"==e.status&&console.log("App.Messages.error",e.content,o.url),t(e)):console.log("callback не сработал",t)}})}function uploadAjax(e,t){var a={url:"/",data:{},timeout:5e4,cache:!1,dataType:"",type:"POST",contentType:!1,processData:!1},o=$.extend({},a,e);$.ajax({url:o.url,data:o.data,timeout:o.timeout,type:o.type,cache:o.cache,dataType:o.dataType,contentType:o.contentType,processData:o.processData,success:function(e){"function"==typeof t?("error"==e.status&&console.log("App.Messages.error",e.content,o.url),t(e)):console.log("callback не сработал",t)}})}function isOK(e){return!(!e.status||"success"!=e.status)||"success"==e}function isUrl(e){return window.location.href.indexOf(e)!==-1}$.ajaxSetup({headers:{"X-CSRFToken":getToken()},error:function(e,t,a){var o="<b>textStatus</b>: "+t+"<br> <b>errorThrown</b>: "+a+"<br> <b>responseText</b>: <pre>"+e.responseText+"</pre>";console.log("error","Ошибка при ALAX запросе.",o),setTimeout(function(){$(document).find("#layout").remove(),adm&&void 0!==adm&&null!==adm&&BsDialog.alert({title:"Ошибка при ALAX запросе",message:e.responseText,closable:!0,size:BsDialog.SIZE_LARGE})},500)}});